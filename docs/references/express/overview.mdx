---
title: Clerk Express.js SDK
description: Learn how to integrate Express.js into your Clerk application.
---

# Clerk Express.js SDK

## Set up Clerk Express.js

<Steps>
  ### Create a Clerk application

  You need to create a Clerk application in the Clerk Dashboard before you can set up `@clerk/express`. For more information on setting up a Clerk application, check out the [dedicated guide](/docs/quickstarts/setup-clerk).

  ### Install `@clerk/express`

  To get started using Clerk with Express.js, add the [SDK](https://www.npmjs.com/package/@clerk/express) to your project:

  <CodeBlockTabs type="installer" options={["npm", "yarn", "pnpm"]}>
    ```sh filename="terminal"
    npm install @clerk/express
    ```

    ```sh filename="terminal"
    yarn add @clerk/express
    ```

    ```sh filename="terminal"
    pnpm add @clerk/express
    ```
  </CodeBlockTabs>

  ### Set environment variables

  <SignedIn>
    Add the following keys to your `.env.local` file. These keys can always be retrieved from the [API Keys](https://dashboard.clerk.com/last-active?path=api-keys) page of your Clerk Dashboard.
  </SignedIn>

  <SignedOut>
    1. Navigate to the Clerk Dashboard.
    1. In the navigation sidebar, select [API Keys](https://dashboard.clerk.com/last-active?path=api-keys).
    1. In the **Quick Copy** section, copy your Clerk publishable and secret key.
    1. Paste your keys into your `.env.local` file.

    The final result should resemble the following:
  </SignedOut>

  ```sh filename=".env.local"
  CLERK_PUBLISHABLE_KEY={{pub_key}}
  CLERK_SECRET_KEY={{secret}}
  ```
</Steps>

## Available methods

### `clerkMiddleware()`

The `clerkMiddleware()` helper integrates Clerk authentication into your Express application. It is required to be set in the middleware chain before using other Clerk utilities, such as `requireAuth` and `getAuth()`.

```js
import { clerkMiddleware } from '@clerk/express'

const app = express()

// Pass no parameters
app.use(clerkMiddleware())

// Pass a function that will run as middleware
app.use(clerkMiddleware(handler))

// Pass options
app.use(clerkMiddleware(options))

// Pass both
app.use(clerkMiddleware(handler, options))
```

#### Options

The `clerkMiddleware()` function accepts [these options](https://clerk.com/docs/references/nextjs/clerk-middleware#clerk-middleware-options) plus the following:

<Properties>
  - `clerkClient`
  - [`ClerkClient`](/docs/references/backend/overview#create-clerk-client-options)

  An instance of the ClerkClient class. This is used to interact with the Clerk API.

  ---

  - `debug`
  - `boolean`

  A flag to enable debug mode. When enabled, the middleware will log debug information to the console.
</Properties>

### `requireAuth`

`requireAuth` is a middleware function that you can use to protect routes in your Express.js application. This function checks if the user is authenticated, and returns a 401 status code if they are not.

`clerkMiddleware()` is required to be set in the middleware chain before this util is used.

```js
import { clerkMiddleware, requireAuth } from '@clerk/express'
import express from 'express'

const app = express()

const port = 3000

// Apply centralized middleware
app.use(clerkMiddleware())

// Define a protected route
app.get('/protected', requireAuth, (req, res) => {
  res.send('This is a protected route')
})

// Start the server and listen on the specified port
app.listen(port, () => {
  console.log(`Server is running on http://localhost:${port}`)
})
```

### `getAuth()`

The `getAuth()` helper retrieves authentication state from the request object. See the [Next.js reference documentation](https://clerk.com/docs/references/nextjs/get-auth) for more information on how to use it.

```js
import { clerkMiddleware, getAuth } from '@clerk/express'
import express from 'express'

const app = express()
const port = 3000

// Apply centralized middleware
app.use(clerkMiddleware())

// Protect a route based on authorization status
hasPermission = (request, response, next) => {
  const auth = getAuth(request)

  // Handle if the user is not authorized
  if (!auth.has({ permission: 'org:admin:testpermission' })) {
    response.status(403).send('Forbidden')
    return
  }

  return next()
}

app.get('/path', requireAuth, hasPermission, (req, res) => res.json(req.auth))

// Start the server and listen on the specified port
app.listen(port, () => {
  console.log(`Server is running on http://localhost:${port}`)
})
```

### `clerkClient`

[Clerk's JavaScript Backend SDK](/docs/references/backend/overview) exposes Clerk's Backend API resources and low-level authentication utilities for JavaScript environments. For example, if you wanted to get a list of all users in your application, instead of creating a fetch to Clerk's `https://api.clerk.com/v1/users` endpoint, you can use the `users.getUserList()` method provided by the JavaScript Backend SDK.

All resource operations are mounted as sub-APIs on the `clerkClient` object. See the [reference documentation](/docs/references/backend/overview#usage) for more information.

```js
import { clerkClient } from '@clerk/express'
import express from 'express'

const app = express()
const port = 3000

const users = await clerkClient.users.getUserList()

app.get('/users', requireAuth, (req, res) => res.json(users))

// Start the server and listen on the specified port
app.listen(port, () => {
  console.log(`Server is running on http://localhost:${port}`)
})
```
